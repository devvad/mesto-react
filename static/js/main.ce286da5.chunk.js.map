{"version":3,"sources":["images/logo.svg","components/Header.js","contexts/CurrentUserContext.js","components/Card.js","components/Main.js","components/Footer.js","components/PopupWithForm.js","components/ImagePopup.js","utils/api.js","components/AddPlacePopup.js","components/EditProfilePopup.js","components/EditAvatarPopup.js","components/App.js","reportWebVitals.js","index.js"],"names":["Header","className","src","logo","alt","CurrentUserContext","React","createContext","Card","card","onCardClick","onCardLike","onCardDelete","currentUser","useContext","isOwn","owner","_id","cardDeleteButtonClassName","isLiked","likes","some","i","cardLikeButtonClassName","link","name","onClick","type","length","Main","onEditAvatar","onEditProfile","onAddPlace","cards","about","avatar","style","backgroundImage","map","data","Footer","PopupWithForm","isOpen","title","children","onClose","submitText","onSubmit","event","stopPropagation","preventDefault","ImagePopup","confing","this","_headers","headers","url","config","fetch","then","_checkError","res","ok","json","Promise","reject","status","_fetch","method","body","JSON","stringify","cardId","setAsLiked","authorization","AddPlacePopup","isAddPlacePopupOpen","closeAllPopups","useState","setName","setLink","onChange","target","value","id","placeholder","minLength","maxLength","required","EditProfilePopup","onUpdateUser","description","setDescription","useEffect","defaultValue","EditAvatarPopup","onUpdateAvatar","avatarRef","useRef","e","current","reset","ref","App","isEditProfilePopupOpen","setIsEditProfilePopupOpen","setIsAddPlacePopupOpen","isEditAvatarPopupOpen","setIsEditAvatarPopupOpen","selectedCard","setSelectedCard","setCurrentUser","setCards","api","getUserInfo","catch","err","console","error","getInitialCards","handleAddPlaceSubmit","addCard","newCard","onKeyDown","key","document","addEventListener","removeEventListener","Provider","changeLikeCardStatus","state","c","removeCard","newCards","filter","item","userData","addProfileInfo","newAvatar","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.ce286da5.chunk.js","sourcesContent":["export default __webpack_public_path__ + \"static/media/logo.fad4f8a5.svg\";","import React from \"react\";\r\nimport logo from \"../images/logo.svg\"\r\n\r\nfunction Header() {\r\n  return (\r\n    <header className=\"header\">\r\n      <img className=\"header__logo\" src={logo} alt=\"Логотип сайта Mesto\" />\r\n    </header>\r\n  );\r\n}\r\n\r\nexport default Header","import React from \"react\";\r\n\r\nconst CurrentUserContext = React.createContext();\r\nexport default CurrentUserContext;","import React from \"react\";\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\n\nfunction Card({card, onCardClick, onCardLike, onCardDelete}) {\n\tconst currentUser = React.useContext(CurrentUserContext);\n\n\tconst handleLikeClick = () => {\n    onCardLike(card)\n  };\n\n\tconst handleDeleteClick = () => {\n    onCardDelete(card)\n  };\n\n\tconst isOwn = card.owner._id === currentUser._id;\n\tconst cardDeleteButtonClassName = (\n\t\t`card__delete-icon ${isOwn ? '' : 'card__delete-icon_hidden'}`\n\t);\n\n\tconst isLiked = card.likes.some((i) => i._id === currentUser._id);\n\tconst cardLikeButtonClassName = (\n\t\t`card__like ${isLiked ? 'card__like_active' : ''}`\n\t);\n\n\treturn (\n    <li className=\"card\">\n      <img\n        className=\"card__image\"\n        src={card.link}\n        alt={card.name}\n        onClick={() => {\n          onCardClick(card);\n        }}\n      />\n      <div className=\"card__info\">\n        <h2 className=\"card__title\">{card.name}</h2>\n        <div className=\"card__like-number\">\n          <button\n            type=\"button\"\n            onClick={handleLikeClick}\n            className={cardLikeButtonClassName}\n          ></button>\n          <span className=\"card__likes-container\">{card.likes.length}</span>\n        </div>\n        <button\n          type=\"button\"\n          onClick={handleDeleteClick}\n          className={cardDeleteButtonClassName}\n        ></button>\n      </div>\n    </li>\n  );\n}\n\nexport default Card;\n","import React from \"react\";\r\nimport Card from \"./Card\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction Main({ onEditAvatar, onEditProfile, onAddPlace, onCardClick, cards, onCardLike, onCardDelete }) {\r\n\tconst { name, about, avatar} = React.useContext(CurrentUserContext);\r\n\r\n  return (\r\n    <main>\r\n      <section className=\"profile\">\r\n        <div\r\n          className=\"profile__avatar\"\r\n          style={{ backgroundImage: `url(${avatar})` }}\r\n        >\r\n          <button\r\n            type=\"button\"\r\n            onClick={onEditAvatar}\r\n            className=\"profile__overlay\"\r\n          />\r\n        </div>\r\n        <div className=\"profile__user\">\r\n          <div className=\"profile__info\">\r\n            <h1 className=\"profile__title\">{name}</h1>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onEditProfile}\r\n              className=\"profile__edit-button\"\r\n            />\r\n          </div>\r\n          <p className=\"profile__subtitle\">{about}</p>\r\n        </div>\r\n        <button\r\n          type=\"button\"\r\n          onClick={onAddPlace}\r\n          className=\"profile__add-button\"\r\n        />\r\n      </section>\r\n      <section>\r\n        <ul className=\"cards\">\r\n          {cards.map((data) => {\r\n            return (\r\n              <Card\r\n                card={data}\r\n                onCardClick={onCardClick}\r\n                key={data._id}\r\n                onCardLike={onCardLike}\r\n                onCardDelete={onCardDelete}\r\n              />\r\n            );\r\n          })}\r\n        </ul>\r\n      </section>\r\n    </main>\r\n  );\r\n}\r\n\r\nexport default Main","import React from \"react\";\r\n\r\nfunction Footer() {\r\n  return (\r\n    <footer className=\"footer\">\r\n      <p className=\"footer__copyright\">© 2021 Mesto Russia</p>\r\n    </footer>\r\n  );\r\n}\r\n\r\nexport default Footer","import React from \"react\";\r\n\r\nfunction PopupWithForm ({isOpen, name, title, children, onClose, submitText, onSubmit}) {\r\n  return (\r\n    <div\r\n      className={\r\n        isOpen\r\n          ? `popup popup_type_${name} popup_opened`\r\n          : `popup popup_type_${name}`\r\n      }\r\n      onClick={() => {\r\n        onClose();\r\n      }}\r\n    >\r\n      <div\r\n        className=\"popup__container\"\r\n        onClick={(event) => {\r\n          event.stopPropagation();\r\n        }}\r\n      >\r\n        <h2 className=\"popup__name\">{title}</h2>\r\n        <form\r\n          onSubmit={(event) => {\r\n            event.preventDefault();\r\n            onSubmit(event);\r\n          }}\r\n          className=\"popup__form\"\r\n          name={name}\r\n        >\r\n          {children}\r\n          <button type=\"submit\" className=\"popup__button\">\r\n            {submitText}\r\n          </button>\r\n        </form>\r\n        <button\r\n          type=\"button\"\r\n          className=\"popup__closed\"\r\n          onClick={() => {\r\n            onClose();\r\n          }}\r\n        />\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default PopupWithForm","import React from \"react\";\r\n\r\nfunction ImagePopup({ card, onClose }) {\r\n\treturn (\r\n    <div\r\n      className={`popup popup_gallery ${card ? \"popup_opened\" : \"\"}`}\r\n      onClick={() => {\r\n        onClose();\r\n      }}\r\n    >\r\n      {card && (\r\n        <div className=\"popup__preview\">\r\n          <figure\r\n            className=\"popup__figure\"\r\n            onClick={(event) => {\r\n              event.stopPropagation();\r\n            }}\r\n          >\r\n            <img className=\"popup__image\" src={card.link} alt={card.name} />\r\n            <figcaption className=\"popup__figcaption\">{card.name}</figcaption>\r\n          </figure>\r\n          <button\r\n            type=\"button\"\r\n            className=\"popup__closed\"\r\n          />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ImagePopup","const baseUrl = \"https://mesto.nomoreparties.co/v1/cohort-26/\";\n\nclass Api {\n  constructor(confing) {\n    this._headers = confing.headers\n  }\n\n\t_fetch(url, config) {\n\t\treturn fetch(`${baseUrl}${url}`, {\n\t\t\theaders: this._headers,\n\t\t\t...config\n\t\t})\n\t\t.then(this._checkError);\n\t}\n\n  _checkError(res) {\n    if (res.ok) {\n      return res.json();\n    }\n    return Promise.reject(`Ошибка: ${res.status}`);\n  }\n\n  // Метод получения списка всех карточек пользователя:\n  getInitialCards() {\n    return this._fetch(\"cards\", {\n      method: 'GET',\n    })\n  }\n\n  // Метод получения информации о пользователе:\n  getUserInfo() {\n    return this._fetch(\"users/me\", {\n      method: 'GET',\n    })\n  }\n\n  // Метод обновления аватара:\n  newAvatar(data) {\n    return this._fetch(\"users/me/avatar\", {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    })\n  }\n\n  // Метод удаления карточки:\n  removeCard(cardId) {\n    return this._fetch(`cards/${cardId}`, {\n      method: 'DELETE',\n    })\n  }\n\n  // Метод простановки и удаления лайка у карточки:\n  changeLikeCardStatus(cardId, setAsLiked) {\n    const updateLike = {\n      method: 'PUT',\n    }\n\n    const deleteLike = {\n      method: 'DELETE',\n    }\n    return this._fetch(\n      `cards/likes/${cardId}`,\n      setAsLiked ? updateLike : deleteLike\n    );\n  }\n\n  // Метод обновления информации о пользователе:\n  addProfileInfo(data) {\n    return this._fetch(\"users/me\", {\n      method: 'PATCH',\n      body: JSON.stringify(data),\n    })\n  }\n\n  // Добавление новой карточки на сервер:\n  addCard(data) {\n  \treturn this._fetch(\"cards\", {\n\t\t\tmethod: 'POST',\n\t\t\tbody: JSON.stringify(data),\n\t\t});\n\t}\n}\n\nexport default new Api ({\n  url: `https://mesto.nomoreparties.co/v1/cohort-26/`,\n  headers: {\n    authorization: 'abead934-d5b0-49ba-afc0-24d630c67c1b',\n    'Content-Type': 'application/json'\n  }\n});","import React from \"react\";\r\nimport PopupWithForm from \"../components/PopupWithForm\";\r\n\r\nfunction AddPlacePopup({ isAddPlacePopupOpen, closeAllPopups, onSubmit }) {\r\n\tconst [name, setName] = React.useState(\"\");\r\n\tconst [link, setLink] = React.useState(\"\");\r\n\r\n\treturn (\r\n    <PopupWithForm\r\n      title=\"Новое место\"\r\n      name=\"place\"\r\n      submitText=\"Добавить место\"\r\n      isOpen={isAddPlacePopupOpen}\r\n      onClose={closeAllPopups}\r\n\t\t\tonSubmit={() => {\r\n\t\t\t\tonSubmit({ name, link });\r\n\t\t\t}}\r\n    >\r\n      <input\r\n        onChange={(event) => {\r\n\t\t\t\t\tsetName(event.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={name}\r\n\t\t\t\ttype=\"text\"\r\n        id=\"card-name\"\r\n        name=\"name\"\r\n        className=\"popup__input popup__input_type_name\"\r\n        placeholder=\"Название\"\r\n        minLength={2}\r\n        maxLength={30}\r\n        required\r\n      />\r\n      <span className=\"popup__error-message card-name-error\" />\r\n      <input\r\n        onChange={(event) => {\r\n\t\t\t\t\tsetLink(event.target.value);\r\n\t\t\t\t}}\r\n\t\t\t\tvalue={link}\r\n\t\t\t\ttype=\"URL\"\r\n        id=\"link\"\r\n        name=\"link\"\r\n        className=\"popup__input popup__input_type_link-url\"\r\n        placeholder=\"Ссылка на картинку\"\r\n        required\r\n      />\r\n      <span className=\"popup__error-message link-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default AddPlacePopup;","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\n\r\nfunction EditProfilePopup ({isOpen, onClose, onUpdateUser})  {\r\n  const [name, setName] = React.useState(\"\");\r\n  const [description, setDescription] = React.useState(\"\");\r\n  const currentUser = React.useContext(CurrentUserContext);\r\n\r\n  React.useEffect(() => {\r\n    setName(currentUser.name);\r\n    setDescription(currentUser.about);\r\n  }, [currentUser, isOpen])\r\n\r\n  const onChangeName = (event) => {\r\n    setName(event.target.value)\r\n  }\r\n  const onChangeDescription = (event) => {\r\n    setDescription(event.target.value)\r\n  }\r\n  const handleSubmit = (event) => {\r\n    event.preventDefault();\r\n    onUpdateUser({\r\n      name,\r\n      about: description,\r\n    })\r\n  }\r\n\r\n\treturn (\r\n    <PopupWithForm\r\n      title=\"Редактирование профиля\"\r\n      name=\"profile\"\r\n      submitText=\"Сохранить\"\r\n\t\t\tonSubmit = {handleSubmit}\r\n      isOpen={isOpen}\r\n  \t\tonClose={onClose}\r\n    >\r\n      <input\r\n        onChange={onChangeName}\r\n\t\t\t\tvalue={name || \"\"}\r\n\t\t\t\ttype=\"text\"\r\n        className=\"popup__input\"\r\n        name=\"name\"\r\n        id=\"input-popup-title\"\r\n        defaultValue\r\n        placeholder=\"Имя\"\r\n        minLength={2}\r\n        maxLength={40}\r\n        required\r\n      />\r\n      <span className=\"popup__error-message input-popup-title-error\" />\r\n      <input\r\n\t\t\t\tonChange={onChangeDescription}\r\n\t\t\t\tvalue={description || \"\"}\r\n        type=\"text\"\r\n        className=\"popup__input\"\r\n        name=\"about\"\r\n        id=\"input-popup-subtitle\"\r\n        defaultValue\r\n        placeholder=\"Вид деятельности\"\r\n        minLength={2}\r\n        maxLength={200}\r\n        required\r\n      />\r\n      <span className=\"popup__error-message input-popup-subtitle-error\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditProfilePopup","import React from \"react\";\r\nimport PopupWithForm from \"./PopupWithForm\"\r\n\r\nfunction EditAvatarPopup ({isOpen, onClose, onUpdateAvatar}) {\r\n\r\nconst avatarRef = React.useRef();\r\n\r\nconst handleSubmit = (e) => {\r\n  e.preventDefault();\r\n  onUpdateAvatar({\r\n    avatar: avatarRef.current.value,\r\n  })\r\n  e.target.reset()\r\n}\r\n\r\n\treturn (\r\n    <PopupWithForm\r\n      title=\"Обновить аватар\"\r\n      name=\"avatar\"\r\n      submitText=\"Сохранить\"\r\n      isOpen={isOpen}\r\n      onClose={onClose}\r\n\t\t\tonSubmit={handleSubmit}\r\n    >\r\n      <input\r\n\t\t\t\tref={avatarRef}\r\n\t\t\t\ttype=\"url\"\r\n        className=\"popup__input\"\r\n        name=\"avatar\"\r\n        id=\"input-popup-avatar\"\r\n        defaultValue\r\n        placeholder=\"Ссылка на аватар\"\r\n        required\r\n      />\r\n      <span className=\"input-popup-avatar-error popup__error-message\" />\r\n    </PopupWithForm>\r\n  );\r\n}\r\n\r\nexport default EditAvatarPopup","import React from \"react\";\r\nimport Header from \"./Header\";\r\nimport Main from \"./Main\";\r\nimport Footer from \"./Footer\";\r\nimport PopupWithForm from \"./PopupWithForm\";\r\nimport ImagePopup from \"./ImagePopup\";\r\nimport api from \"../utils/api\";\r\nimport CurrentUserContext from \"../contexts/CurrentUserContext\";\r\nimport AddPlacePopup from \"../components/AddPlacePopup\";\r\nimport EditProfilePopup from \"../components/EditProfilePopup\";\r\nimport EditAvatarPopup from \"../components/EditAvatarPopup\";\r\n\r\nfunction App() {\r\n  const [isEditProfilePopupOpen, setIsEditProfilePopupOpen] = React.useState(false);\r\n  const [isAddPlacePopupOpen, setIsAddPlacePopupOpen] = React.useState(false);\r\n  const [isEditAvatarPopupOpen, setIsEditAvatarPopupOpen] = React.useState(false);\r\n  const [selectedCard, setSelectedCard] = React.useState(null);\r\n  const [currentUser, setCurrentUser] = React.useState({});\r\n  const [cards, setCards] = React.useState([]);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getUserInfo()\r\n      .then((data) => {\r\n        setCurrentUser(data);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    api\r\n      .getInitialCards()\r\n      .then((cards) => {\r\n        setCards(cards);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }, []);\r\n\r\n  function handleCardLike(card) {\r\n    // Снова проверяем, есть ли уже лайк на этой карточке\r\n    const isLiked = card.likes.some((i) => i._id === currentUser._id);\r\n\r\n    // Отправляем запрос в API и получаем обновлённые данные карточки\r\n    api\r\n      .changeLikeCardStatus(card._id, !isLiked)\r\n      .then((newCard) => {\r\n        setCards((state) =>\r\n          state.map((c) => (c._id === card._id ? newCard : c))\r\n        );\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  function handleCardDelete(card) {\r\n    api\r\n      .removeCard(card._id)\r\n      .then(() => {\r\n    \t\tconst newCards = cards.filter((item) => {\r\n          return item._id !== card._id;\r\n        });\r\n\t\t\t\tsetCards(newCards);\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n  const handleEditAvatarClick = () => {\r\n    setIsEditAvatarPopupOpen(!isEditAvatarPopupOpen);\r\n  };\r\n\r\n  const handleEditProfileClick = () => {\r\n    setIsEditProfilePopupOpen(!isEditProfilePopupOpen);\r\n  };\r\n\r\n  const handleAddPlaceClick = () => {\r\n    setIsAddPlacePopupOpen(!isAddPlacePopupOpen);\r\n  };\r\n\r\n  const handleCardClick = (card) => {\r\n    setSelectedCard(card);\r\n  };\r\n\r\n  const closeAllPopups = () => {\r\n    setIsEditAvatarPopupOpen(false);\r\n    setIsEditProfilePopupOpen(false);\r\n    setIsAddPlacePopupOpen(false);\r\n    setSelectedCard(null);\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    const onKeyDown = (event) => {\r\n      if (event.key === \"Escape\") {\r\n        closeAllPopups();\r\n      }\r\n    };\r\n\r\n    document.addEventListener(\"keydown\", onKeyDown);\r\n\r\n    return () => {\r\n      document.removeEventListener(\"keydown\", onKeyDown);\r\n    };\r\n  }, []);\r\n\r\n\tfunction handleAddPlaceSubmit(card) {\r\n    api\r\n      .addCard(card)\r\n      .then((newCard) => {\r\n        setCards([newCard, ...cards]);\r\n\t\t\t\tcloseAllPopups();\r\n      })\r\n      .catch((err) => {\r\n        console.error(err);\r\n      });\r\n  }\r\n\r\n\tfunction handleUpdateUser(userData) {\r\n    api.addProfileInfo(userData)\r\n    .then((data) => {\r\n      setCurrentUser(data)\r\n      closeAllPopups()\r\n    })\r\n    .catch((err) => {\r\n\t\t\tconsole.error(err);\r\n\t\t});\r\n  }\r\n\r\n\tfunction handleUpdateAvatar(data) {\r\n\t\tapi.newAvatar(data)\r\n\t\t.then((item) => {\r\n\t\t\tsetCurrentUser({...currentUser, avatar: item.avatar});\r\n\t\t\tcloseAllPopups();\r\n\t\t})\r\n\t\t.catch((err) => {\r\n\t\t\tconsole.error(err);\r\n\t\t});\r\n\t}\r\n\r\n  return (\r\n    <CurrentUserContext.Provider value={currentUser}>\r\n      <Header></Header>\r\n      <Main\r\n        onEditAvatar={handleEditAvatarClick}\r\n        onEditProfile={handleEditProfileClick}\r\n        onAddPlace={handleAddPlaceClick}\r\n        onCardClick={handleCardClick}\r\n        onCardLike={handleCardLike}\r\n        onCardDelete={handleCardDelete}\r\n        cards={cards}\r\n        onSubmit={handleAddPlaceSubmit}\r\n      ></Main>\r\n      <Footer></Footer>\r\n\r\n      <EditProfilePopup\r\n        isOpen={isEditProfilePopupOpen}\r\n        onClose={closeAllPopups}\r\n        onUpdateUser={handleUpdateUser}\r\n      />\r\n\r\n      <ImagePopup\r\n        card={selectedCard}\r\n        onClose={() => {\r\n          closeAllPopups();\r\n        }}\r\n      ></ImagePopup>\r\n\r\n      <PopupWithForm\r\n        title=\"Вы уверены?\"\r\n        name=\"confirm\"\r\n        submitText=\"Да\"\r\n      ></PopupWithForm>\r\n\r\n      <EditAvatarPopup\r\n        isOpen={isEditAvatarPopupOpen}\r\n        onClose={closeAllPopups}\r\n\t\t\t\tonUpdateAvatar={handleUpdateAvatar}\r\n      ></EditAvatarPopup>\r\n\r\n      <AddPlacePopup\r\n        isAddPlacePopupOpen={isAddPlacePopupOpen}\r\n        closeAllPopups={closeAllPopups}\r\n        onSubmit={handleAddPlaceSubmit}\r\n      ></AddPlacePopup>\r\n    </CurrentUserContext.Provider>\r\n  );\r\n}\r\n\r\nexport default App;\r\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}